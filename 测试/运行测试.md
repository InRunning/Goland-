# 运行测试

> 运行选中的测试或测试目录：`Ctrl + Shift + F10`
>
> 停止当前测试会话: `Ctrl + F2`

> #### 捷径
>
> 如果你的测试在开始前不需要特别的行为或者你不想配置额外的选项，你可以通过使用以下选项运行它们：
>
> - 放置插入符号放在测试文件中去运行该文件中的所有测试，或者在测试方法上，然后按`Ctrl + Shift + F10`。或者，单击测试方法旁边的沟槽图标。
>
>   沟槽图标根据测试的状态而变化:
>
>   - ![the Run button](https://resources.jetbrains.com/help/img/idea/2021.3/android.studio.icons.shell.toolbar.run.svg)沟槽图标标志新的测试
>   - ![the Run test icon](https://resources.jetbrains.com/help/img/idea/2021.3/icons.runConfigurations.testState.green2.svg)沟槽图标标志测试成功
>   - ![the Rerun the Run button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.runConfigurations.rerunFailedTests.svg)沟槽图标标志测试失败
>
> - 要运行文件夹中的所有测试，请在**项目**（**Project**）工具窗口中选择此文件夹，然后按`Ctrl + Shift + F10`或从关联的菜单的中选择**在文件夹中运行测试**（**Run Tests in 'folder'**)。
>
>   ![Running a test using the gutter icon](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_test.png)

> ### 定制方式
>
> 当你运行一个测试，GoLand创建一个临时运行配置。你可以保存临时运行配置，改变它们的设置，与你的团队中的其它成员分享。有关更多信息，参考[运行/调试 配置](运行/运行调试配置.md)。
>
> 1. 创建新的[运行配置](运行/运行配置.md)或保存一个临时的。
>
> 2. 在主工具栏中，选择一个你想要运行的配置。
>
> 3. 点击![the Run button](https://resources.jetbrains.com/help/img/idea/2021.3/android.studio.icons.shell.toolbar.run.svg)或按`Shift + F10`。
>
>    ![Running a run/debug configuration for tests](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_run_config_tests.png)

> 启用**运行**（**Run**）工具栏上的**Pin Tab**![the Pin Tab button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.general.pin_tab.svg)选项，以在单独的选项卡中打开每个测试运行的结果。

GoLand运行完测试后，会在**测试运行**选项卡上的**运行**（**Run**)工具窗口显示结果。有关如何分析的测试结果的更多信息，请参考[探索测试结果](探索测试结果.md)

![Running all tests in a folder, stopping, and rerunning a single test](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_test_results.png)

> ### 使用测试标志运行测试
>
> 你可以使用测试标志如 `-race`，`-failfast`，`-short`和其它的来运行测试。在[pakg.go.dev 的 Go 官方文档](https://pkg.go.dev/cmd/go)查看其它标志。
>
> 1. 导航到**运行|编辑配置**（**Run|Edit Configurations**）。
>
> 2. 单击用于运行应用程序或测试的运行/调试配置。在Go工具栏参数字段，指定你计划使用的标志：
>
>    - `-race`：启用数据竞争检测。仅支持`linux/amd64`，`freebsd/amd64`，`darwin/amd64`，`windows/amd64`，`linux/ppc64le`和`linux/arm64`（只支持48位的VMA）。
>    - `-test.failfast`：在第一次测试失败后停止新的测试。
>    - `test.short`：缩短长时间运行测试的运行时间。
>    - `-test.benchmem`：打印基准测试的内存分配统计信息。
>
>    ![Run tests with test flags](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_tests_with_test_flags.png)

## 在提交之前运行测试

当你希望在提交更改之前检查更改是否会破坏代码，可以通过测试作为提交前检查来完成。

> 这个功能只有在 Git 和 Mercurial 才可用。

## 设置测试配置

1. 按以下主题打开**Commit**工具窗口：

   - [Git](https://www.jetbrains.com/help/go/commit-and-push-changes.html)
   - [Mercurial](https://www.jetbrains.com/help/go/uploading-a-local-mercurial-repository-push.html)

2. 单击**显示提交选项**（**Show Commit Options**）![the Settings button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.ide.notification.gear.png)，在**运行测试**（**Run Tests**)旁边单击**选择配置**（**Choose configuration**)并选择你想要运行的测试。

   ![Pre-commit checks menu](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_tests_before_commit_0.png)

   设置测试配置后，每次提交时都会运行指定的测试。

   ![Non-modal commit dialog running a test](https://resources.jetbrains.com/help/img/idea/2021.3/go_run_tests_before_commit_1.png)

## 停止测试

使用**测试运行程序**（**Test Runner**）选项卡的**运行**工具栏上的以下选项：

- 点击![the Stop button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.actions.suspend.svg)或按`Ctrl + F2`立即终止进程。

  ![Stop running tests](https://resources.jetbrains.com/help/img/idea/2021.3/go_stop_running_tests.png)

## 重新运行测试

> ### 重新一个测试
>
> - 在**运行**（**Run**）工具窗口运行测试程序选项卡右键测试，然后选择**运行'测试名字'**（**Run 'test name'**)。

> ### 重新运行会话中的所有测试
>
> 单击**运行**工具栏中的![the Run button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.runConfigurations.testState.run.svg)或按`Ctrl + F5`以重新运行会话中的所有测试。

> ### 重新运行失败的测试
>
> - 单击![the Rerun Failed Tests button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.runConfigurations.rerunFailedTests.svg)在**运行**工具栏重新运行失败的测试
>
>   按住`Shift`然后点击![the Rerun Failed Tests button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.runConfigurations.rerunFailedTests.svg)去选择你想要再次运行的测试或**调试**（**Debug**）它们。
>
>   你可以配置IDE去触发上一次测试期间被忽略或未启动的测试以及失败的测试。在**测试运行工具栏**单击![the Settings button](https://resources.jetbrains.com/help/img/idea/2021.3/icons.general.gearPlain.svg)然后选择启用**将未启动的测试包括到重新运行失败的测试**(**Include Non-Started Tests into Rerun Failed**)选项。

> ### 自动重新运行测试
>
> 在 GoLand中，可以启用类似自动测试的 runner：更改相关源代码后，当前运行配置中的任何测试都会自动重新启动。
>
> - 在**运行**工具栏点击![Toggle auto-test](https://resources.jetbrains.com/help/img/idea/2021.3/icons.actions.swapPanels.svg)**切换自动测试**（**Toggle auto-test**），以启用自动测试的运行程序。

## 调试失败的测试





